<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.16"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Rendu: BRDF Estimation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
  $(document).ready(function() { init_search(); });
/* @license-end */
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Rendu
   </div>
   <div id="projectbrief">An OpenGL rendering engine for experimentations</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.16 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search');
/* @license-end */
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">BRDF Estimation<div class="ingroups"><a class="el" href="group___tools.html">Tools</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader"> </h2>
<p>Precompute BRDF-related data for real-time rendering. </p>
<p>Perform cubemap GGX convolution, irradiance SH coefficients computation, and linearized BRDF look-up table precomputation. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="class_g_p_u_1_1_frag_1_1_cubemap__convo.html" title="&quot;Cubemap convo&quot; fragment shader.">GPU::Frag::Cubemap_convo</a> </dd>
<dd>
<a class="el" href="class_g_p_u_1_1_frag_1_1_brdf__sampler.html" title="&quot;Brdf sampler&quot; fragment shader.">GPU::Frag::Brdf_sampler</a> </dd>
<dd>
<a class="el" href="class_g_p_u_1_1_frag_1_1_skybox__shcoeffs.html" title="&quot;Skybox shcoeffs&quot; fragment shader.">GPU::Frag::Skybox_shcoeffs</a> </dd>
<dd>
<a class="el" href="group___deferred_rendering.html" title="Real-time deferred rendering using GGX BRDF, image-based lighting, AO, tonemapped HDR,...">Deferred rendering</a> </dd></dl>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga01e39e3f18539cc8bf8a3f844f6ae532"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_r_d_f_estimator.html#ga01e39e3f18539cc8bf8a3f844f6ae532">loadCubemap</a> (const std::string &amp;inputPath, <a class="el" href="class_texture.html">Texture</a> &amp;cubemapInfos)</td></tr>
<tr class="separator:ga01e39e3f18539cc8bf8a3f844f6ae532"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaf4857febc224b23898e52b8c3e43524d"><td class="memItemLeft" align="right" valign="top">std::vector&lt; glm::vec3 &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_r_d_f_estimator.html#gaf4857febc224b23898e52b8c3e43524d">computeSHCoeffs</a> (const <a class="el" href="class_texture.html">Texture</a> &amp;cubemap)</td></tr>
<tr class="memdesc:gaf4857febc224b23898e52b8c3e43524d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decompose an existing cubemap irradiance onto the nine first elements of the spherical harmonic basis.  <a href="group___b_r_d_f_estimator.html#gaf4857febc224b23898e52b8c3e43524d">More...</a><br /></td></tr>
<tr class="separator:gaf4857febc224b23898e52b8c3e43524d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga23457022b378179392250281e696f53e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_r_d_f_estimator.html#ga23457022b378179392250281e696f53e">computeCubemapConvolution</a> (const <a class="el" href="class_texture.html">Texture</a> &amp;cubemapInfos, int levelsCount, int outputSide, int samplesCount, std::vector&lt; <a class="el" href="class_texture.html">Texture</a> &gt; &amp;cubeLevels)</td></tr>
<tr class="separator:ga23457022b378179392250281e696f53e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gab36530070ec4d11604b2d118e692e8dd"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_r_d_f_estimator.html#gab36530070ec4d11604b2d118e692e8dd">exportCubemapConvolution</a> (std::vector&lt; <a class="el" href="class_texture.html">Texture</a> &gt; &amp;cubeLevels, const std::string &amp;outputPath)</td></tr>
<tr class="separator:gab36530070ec4d11604b2d118e692e8dd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga10fdb7e3e48d2ebbc2522d3a353f876a"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_r_d_f_estimator.html#ga10fdb7e3e48d2ebbc2522d3a353f876a">computeAndExportLookupTable</a> (const int outputSide, const std::string &amp;outputPath)</td></tr>
<tr class="separator:ga10fdb7e3e48d2ebbc2522d3a353f876a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group___b_r_d_f_estimator.html#ga3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:ga3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="ga10fdb7e3e48d2ebbc2522d3a353f876a"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga10fdb7e3e48d2ebbc2522d3a353f876a">&#9670;&nbsp;</a></span>computeAndExportLookupTable()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void computeAndExportLookupTable </td>
          <td>(</td>
          <td class="paramtype">const int&#160;</td>
          <td class="paramname"><em>outputSide</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>outputPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute and export a linearized BRDF look-up table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">outputSide</td><td>the side size of the 2D output map </td></tr>
    <tr><td class="paramname">outputPath</td><td>the destination path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga23457022b378179392250281e696f53e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga23457022b378179392250281e696f53e">&#9670;&nbsp;</a></span>computeCubemapConvolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void computeCubemapConvolution </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_texture.html">Texture</a> &amp;&#160;</td>
          <td class="paramname"><em>cubemapInfos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>levelsCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>outputSide</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>samplesCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_texture.html">Texture</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cubeLevels</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute a series of cubemaps convolved with a BRDF using increasing roughness values. The cubemaps form a mipmap pyramid. </p><dl class="section note"><dt>Note</dt><dd>We choose to keep the levels in separate textures for easier visualisation. This could be revisited. </dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cubemapInfos</td><td>the source HDR cubemap </td></tr>
    <tr><td class="paramname">levelsCount</td><td>the number of mipmap levels to generate </td></tr>
    <tr><td class="paramname">outputSide</td><td>the side size of the lvel 0 cubemap faces </td></tr>
    <tr><td class="paramname">samplesCount</td><td>the number of samples to use in the convolution </td></tr>
    <tr><td class="paramname">cubeLevels</td><td>will contain the texture infos for each level </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gaf4857febc224b23898e52b8c3e43524d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaf4857febc224b23898e52b8c3e43524d">&#9670;&nbsp;</a></span>computeSHCoeffs()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">std::vector&lt;glm::vec3&gt; computeSHCoeffs </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="class_texture.html">Texture</a> &amp;&#160;</td>
          <td class="paramname"><em>cubemap</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decompose an existing cubemap irradiance onto the nine first elements of the spherical harmonic basis. </p>
<p>Perform approximated convolution as described in Ramamoorthi, Ravi, and Pat Hanrahan. "An efficient representation for irradiance environment maps.", Proceedings of the 28th annual conference on Computer graphics and interactive techniques. ACM, 2001. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cubemap</td><td>the cubemap to extract SH coefficients from </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the 9 RGB coefficients of the SH decomposition </dd></dl>

</div>
</div>
<a id="gab36530070ec4d11604b2d118e692e8dd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab36530070ec4d11604b2d118e692e8dd">&#9670;&nbsp;</a></span>exportCubemapConvolution()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void exportCubemapConvolution </td>
          <td>(</td>
          <td class="paramtype">std::vector&lt; <a class="el" href="class_texture.html">Texture</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>cubeLevels</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>outputPath</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Export the pre-convolved cubemap levels. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">cubeLevels</td><td>the textures to export as mipmap levels </td></tr>
    <tr><td class="paramname">outputPath</td><td>the based destination path </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga01e39e3f18539cc8bf8a3f844f6ae532"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga01e39e3f18539cc8bf8a3f844f6ae532">&#9670;&nbsp;</a></span>loadCubemap()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void loadCubemap </td>
          <td>(</td>
          <td class="paramtype">const std::string &amp;&#160;</td>
          <td class="paramname"><em>inputPath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="class_texture.html">Texture</a> &amp;&#160;</td>
          <td class="paramname"><em>cubemapInfos</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Load a cubemap on both the CPU and <a class="el" href="namespace_g_p_u.html" title="Contains all shaders.">GPU</a> from an input path. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">inputPath</td><td>the base path on disk </td></tr>
    <tr><td class="paramname">cubemapInfos</td><td>will contain the cubemap infos once sent to the <a class="el" href="namespace_g_p_u.html" title="Contains all shaders.">GPU</a> </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga3c04138a5bfe5d72780bb7e82a18e627"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga3c04138a5bfe5d72780bb7e82a18e627">&#9670;&nbsp;</a></span>main()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Compute either a series of cubemaps convolved with a BRDF using increasing roughness values, irradiance spherical harmonics coefficients, or generate a linearized BRDF look-up table. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">argc</td><td>the number of input arguments. </td></tr>
    <tr><td class="paramname">argv</td><td>a pointer to the raw input arguments. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>a general error code. </dd></dl>
<p>Loading section.</p>
<p>Computations section.</p>
<p>Export section.</p>
<p>Visualisation section.</p>
<p>Rendering.</p>

</div>
</div>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.14-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by <a href="http://www.doxygen.org/index.html">Doxygen</a> 1.8.16
 - Theme by <a href="http://simonrodriguez.fr">Simon Rodriguez</a></small></address><br>
</body>
</html>
